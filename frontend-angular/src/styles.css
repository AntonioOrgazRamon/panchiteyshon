@import 'bootstrap/dist/css/bootstrap.min.css';

:root {
  --font-body: 'Outfit', system-ui, sans-serif;
  --font-heading: 'Fraunces', Georgia, serif;

  --bg-body: #02040a;
  --bg-surface: #0b1121;
  --bg-surface-subtle: #151e32;

  --color-primary: #2563eb;
  --color-primary-hover: #3b82f6;
  --color-primary-soft: rgba(37, 99, 235, 0.12);

  --text-main: #f1f5f9;
  --text-secondary: #94a3b8;
  --text-light: #64748b;

  --border-color: #1e293b;
  --border-focus: #2563eb;

  --radius-sm: 2px;
  --radius-md: 4px;
  --radius-lg: 6px;
  --radius-xl: 8px;
  --radius-card: 6px;
  --space-card: 12px;
  --sidebar-width: 220px;
}

* { box-sizing: border-box; }

body {
  font-family: var(--font-body);
  background-color: var(--bg-body);
  color: var(--text-main);
  line-height: 1.55;
  margin: 0;
  -webkit-font-smoothing: antialiased;
}

/* --- Sidebar izquierdo --- */
.sidebar-crm {
  position: fixed;
  left: 0;
  top: 0;
  bottom: 0;
  width: var(--sidebar-width);
  background-color: var(--bg-body);
  border-right: 1px solid var(--border-color);
  display: flex;
  flex-direction: column;
  z-index: 1030;
}

.sidebar-brand {
  font-family: var(--font-heading);
  font-weight: 600;
  font-size: 1.2rem;
  letter-spacing: 0.02em;
  color: var(--text-main);
  text-decoration: none;
  padding: 1.25rem 1.25rem 1rem;
  border-bottom: 1px solid var(--border-color);
  display: block;
  transition: color 0.15s ease;
}

.sidebar-brand:hover {
  color: var(--color-primary);
}

.sidebar-nav {
  padding: 0.75rem 0;
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.sidebar-link {
  color: var(--text-secondary);
  text-decoration: none;
  font-weight: 500;
  font-size: 0.9rem;
  padding: 0.6rem 1.25rem;
  border-left: 3px solid transparent;
  margin-left: 0;
  transition: color 0.15s ease, border-color 0.15s ease;
  display: flex;
  align-items: center;
  gap: 0.6rem;
}

.sidebar-link:hover {
  color: var(--text-main);
}

.sidebar-link.active {
  color: var(--color-primary);
  border-left-color: var(--color-primary);
  font-weight: 600;
}

.sidebar-link .bi {
  font-size: 1.1rem;
  opacity: 0.9;
}

/* --- Área principal --- */
.main-content-crm {
  margin-left: var(--sidebar-width);
  padding: 1.5rem 1.5rem 2rem;
  min-height: 100vh;
}

/* --- Bottom nav (solo móvil) --- */
.mobile-bottom-nav {
  display: none;
}

@media (max-width: 767px) {
  .sidebar-crm {
    display: none;
  }

  .main-content-crm {
    margin-left: 0;
    padding: 1rem 0.75rem 1.5rem;
    padding-bottom: 80px;
  }

  .main-content-crm.container {
    max-width: 100%;
  }

  .mobile-bottom-nav {
    display: flex;
    align-items: center;
    justify-content: space-around;
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    height: 56px;
    background: var(--bg-body);
    border-top: 1px solid var(--border-color);
    z-index: 1030;
    padding: 0 0.25rem;
    -webkit-tap-highlight-color: transparent;
  }

  .mobile-bottom-link {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    flex: 1;
    min-width: 0;
    padding: 0.35rem 0.25rem;
    color: var(--text-secondary);
    text-decoration: none;
    font-size: 0.65rem;
    font-weight: 500;
    transition: color 0.15s ease;
  }

  .mobile-bottom-link .bi {
    font-size: 1.25rem;
    margin-bottom: 2px;
  }

  .mobile-bottom-link:hover,
  .mobile-bottom-link:focus {
    color: var(--text-main);
  }

  .mobile-bottom-link.active {
    color: var(--color-primary);
  }
}

/* --- Toques responsive en contenido --- */
@media (max-width: 767px) {
  .btn {
    min-height: 44px;
    padding: 0.6rem 1rem;
  }

  .card-body {
    padding: 1rem;
  }

  .table-responsive {
    -webkit-overflow-scrolling: touch;
    margin-left: -0.75rem;
    margin-right: -0.75rem;
    padding-left: 0.75rem;
    padding-right: 0.75rem;
  }
}

/* --- Tipografía: Fraunces títulos, Outfit cuerpo --- */
h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-heading);
  color: var(--text-main);
  font-weight: 600;
  letter-spacing: 0.01em;
}

h1 { font-size: 1.85rem; margin-bottom: 1.25rem; }
h5 { font-size: 1.05rem; margin-bottom: 0.75rem; }

.display-6 {
  font-family: var(--font-heading);
  font-weight: 600;
  color: var(--text-main);
  letter-spacing: 0.01em;
}

/* Labels tipo editorial */
.small.text-uppercase, .table thead th {
  letter-spacing: 0.08em;
  font-weight: 600;
}

/* --- Cards: bordes claros, sin sombra genérica, borde izquierdo sutil --- */
.card {
  background: var(--bg-surface);
  border: 1px solid var(--border-color);
  border-left: 3px solid var(--border-color);
  border-radius: var(--radius-md);
  overflow: hidden;
  margin-bottom: 1.25rem;
  color: var(--text-main);
  transition: border-color 0.2s ease;
}

.card:hover {
  border-left-color: var(--color-primary);
}

.card-header {
  background: var(--bg-surface-subtle);
  border-bottom: 1px solid var(--border-color);
  padding: 0.9rem 1.25rem;
  font-family: var(--font-body);
  font-weight: 600;
  font-size: 0.9rem;
  color: var(--text-main);
}

.card-header.bg-primary {
  background: #1e3a5f !important;
  color: #93c5fd !important;
  border: none;
  border-left: 3px solid var(--color-primary);
}

.card-body {
  padding: 1.25rem 1.5rem;
  background: var(--bg-surface);
  color: var(--text-main);
}

/* --- Botones: sin “lift”, radios contenidos --- */
.btn {
  font-family: var(--font-body);
  font-weight: 600;
  padding: 0.5rem 1.1rem;
  border-radius: var(--radius-md);
  transition: background-color 0.15s ease, border-color 0.15s ease;
  letter-spacing: 0.02em;
}

.btn-sm {
  padding: 0.35rem 0.7rem;
  font-size: 0.8rem;
}

.btn-primary {
  background-color: var(--color-primary);
  border-color: var(--color-primary);
  color: #fff;
}

.btn-primary:hover, .btn-primary:focus {
  background-color: var(--color-primary-hover);
  border-color: var(--color-primary-hover);
  color: #fff;
}

.btn-outline-primary {
  color: var(--color-primary);
  border-color: var(--color-primary);
  background: transparent;
}

.btn-outline-primary:hover {
  background-color: var(--color-primary-soft);
  color: var(--color-primary);
  border-color: var(--color-primary);
}

.btn-outline-secondary {
  color: var(--text-secondary);
  border-color: var(--border-color);
  background: var(--bg-surface);
}

.btn-outline-secondary:hover {
  background-color: var(--bg-surface-subtle);
  color: var(--text-main);
  border-color: var(--border-color);
}

.btn-success {
  background-color: #047857;
  border-color: #047857;
  color: white;
}

.btn-light {
  background-color: var(--bg-surface-subtle);
  border-color: var(--border-color);
  color: var(--text-main);
}
.btn-light:hover {
  background-color: var(--border-color);
  border-color: var(--text-light);
  color: var(--text-main);
}

/* --- Forms --- */
.form-control, .form-select {
  border: 1px solid var(--border-color);
  border-radius: var(--radius-sm);
  padding: 0.55rem 0.9rem;
  font-size: 0.9rem;
  color: var(--text-main);
  background-color: var(--bg-surface-subtle);
  transition: border-color 0.15s ease;
}

.form-control:focus, .form-select:focus {
  border-color: var(--color-primary);
  box-shadow: 0 0 0 2px var(--color-primary-soft);
  outline: none;
  background-color: var(--bg-surface-subtle);
  color: var(--text-main);
}

.form-control::placeholder { color: var(--text-light); }

.form-label {
  font-weight: 500;
  font-size: 0.85rem;
  color: var(--text-secondary);
  margin-bottom: 0.4rem;
}

/* --- Tables --- */
.table {
  margin-bottom: 0;
  border-collapse: separate;
  border-spacing: 0;
  width: 100%;
  color: var(--text-main);
  font-size: 0.9rem;
}

.table thead th {
  background-color: var(--bg-surface-subtle);
  color: var(--text-secondary);
  font-weight: 600;
  text-transform: uppercase;
  font-size: 0.7rem;
  letter-spacing: 0.08em;
  border-bottom: 1px solid var(--border-color);
  padding: 0.75rem 1rem;
}

.table tbody td {
  padding: 0.85rem 1rem;
  vertical-align: middle;
  color: var(--text-main);
  border-bottom: 1px solid var(--border-color);
  background-color: var(--bg-surface);
}

.table-hover tbody tr:hover td {
  background-color: var(--bg-surface-subtle);
}

/* --- Badges: esquinas contenidas --- */
.badge {
  padding: 0.35em 0.65em;
  font-weight: 600;
  font-size: 0.7rem;
  border-radius: var(--radius-sm);
  letter-spacing: 0.04em;
}

/* Darker badges for dark mode */
.badge-pipeline-nuevo { background-color: #1e293b; color: #94a3b8; border: 1px solid #334155; }
.badge-pipeline-contactado { background-color: #172554; color: #60a5fa; border: 1px solid #1e40af; }
.badge-pipeline-interesado { background-color: #1e1b4b; color: #818cf8; border: 1px solid #3730a3; }
.badge-pipeline-reunion { background-color: #451a03; color: #fbbf24; border: 1px solid #92400e; }
.badge-pipeline-propuesta { background-color: #3b0764; color: #c084fc; border: 1px solid #6b21a8; }
.badge-pipeline-cerrado { background-color: #064e3b; color: #34d399; border: 1px solid #065f46; }
.badge-pipeline-perdido { background-color: #450a0a; color: #f87171; border: 1px solid #7f1d1d; }

.bg-success { background-color: #065f46 !important; color: #34d399 !important; }
.bg-warning { background-color: #78350f !important; color: #fbbf24 !important; }
.bg-secondary { background-color: #1e293b !important; color: #94a3b8 !important; }
.bg-info { background-color: #0c4a6e !important; color: #38bdf8 !important; }
.bg-danger { background-color: #7f1d1d !important; color: #f87171 !important; }
.bg-light { background-color: #1e293b !important; color: #94a3b8 !important; }

/* --- Pagination --- */
.pagination .page-link {
  border: 1px solid var(--border-color);
  color: var(--text-secondary);
  margin: 0 2px;
  border-radius: var(--radius-sm) !important;
  font-weight: 500;
  padding: 0.45rem 0.7rem;
  font-size: 0.85rem;
  background-color: var(--bg-surface);
}

.pagination .page-link:hover {
  background-color: var(--bg-surface-subtle);
  color: var(--text-main);
  border-color: var(--border-color);
}

.pagination .page-item.active .page-link {
  background-color: var(--color-primary);
  border-color: var(--color-primary);
  color: white;
}

.pagination .page-item.disabled .page-link {
  background-color: var(--bg-surface-subtle);
  color: var(--text-light);
  border-color: var(--border-color);
}

/* --- Utilities --- */
.text-muted { color: var(--text-secondary) !important; }
.text-danger { color: #f87171 !important; }
.text-success { color: #34d399 !important; }
.text-dark { color: var(--text-main) !important; }
.text-primary { color: var(--color-primary) !important; }
.text-warning { color: #fbbf24 !important; }
.text-info { color: #38bdf8 !important; }

/* Alerts */
.alert {
  border: 1px solid transparent;
  border-radius: var(--radius-md);
}
.alert-success { background-color: #064e3b; border-color: #065f46; color: #34d399; }
.alert-danger { background-color: #450a0a; border-color: #7f1d1d; color: #f87171; }
.alert-info { background-color: #0c4a6e; border-color: #075985; color: #38bdf8; }

/* Modal */
.modal-content {
  background: var(--bg-surface);
  border: 1px solid var(--border-color);
  border-radius: var(--radius-lg);
  color: var(--text-main);
}
.modal-header {
  border-bottom: 1px solid var(--border-color);
  padding: 1.5rem;
  background: var(--bg-surface-subtle);
  color: var(--text-main);
}
.modal-footer {
  border-top: 1px solid var(--border-color);
  padding: 1.5rem;
  background-color: var(--bg-surface-subtle);
  color: var(--text-main);
}
.modal-body {
  padding: 1.5rem;
  background: var(--bg-surface);
  color: var(--text-main);
}

/* List Groups */
.list-group-item {
  background: var(--bg-surface);
  border-color: var(--border-color);
  color: var(--text-main);
  padding: 1rem;
}
.list-unstyled li.border-bottom {
  border-color: var(--border-color) !important;
}

/* Links */
a.text-dark, .card-title a.text-dark {
  color: var(--text-main) !important;
}
a.text-dark:hover, .card-title a.text-dark:hover {
  color: var(--color-primary) !important;
}

/* Kanban columns */
.kanban-column {
  background: var(--bg-surface-subtle);
  border: 1px solid var(--border-color);
  border-radius: var(--radius-md);
}

/* Spinner / loader */
.spinner-border.text-primary {
  color: var(--color-primary) !important;
}

/* Force dark overrides for Bootstrap utility classes */
.bg-white, .card-footer.bg-white, .modal-content .bg-white {
  background-color: var(--bg-surface) !important;
}
.border-white { border-color: var(--border-color) !important; }
.input-group-text.bg-light {
  background-color: var(--bg-surface-subtle) !important;
  border-color: var(--border-color);
  color: var(--text-secondary);
}
.min-vh-100 { min-height: 100vh; }
